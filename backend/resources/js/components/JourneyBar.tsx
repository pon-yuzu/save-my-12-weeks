"use client";

import { useEffect, useState } from "react";

// キャラクター位置のバリエーション
const catOffsets = [4, 6, 3, 7, 5, 4, 8, 6, 3, 5, 7, 4, 6, 5, 3, 7, 4, 6];
const butterflyOffsets = [-8, -12, 2, -10, -15, 0, -12, -6, -18, -10, 3, -14, -8, -12, 2, -10, -15, -8];
const butterflyHeights = [42, 55, 32, 60, 38, 52, 65, 30, 58, 42, 68, 35, 55, 40, 62, 32, 50, 58];

interface JourneyBarProps {
  currentStep: number;
  totalSteps: number;
}

export default function JourneyBar({ currentStep, totalSteps }: JourneyBarProps) {
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) return null;

  const progress = (currentStep - 1) / (totalSteps - 1);
  const womanLeft = 5 + progress * 75;
  const catLeft = womanLeft + catOffsets[Math.min(currentStep - 1, catOffsets.length - 1)];
  const butterflyLeft = womanLeft + butterflyOffsets[Math.min(currentStep - 1, butterflyOffsets.length - 1)];
  const butterflyBottom = butterflyHeights[Math.min(currentStep - 1, butterflyHeights.length - 1)];

  // パララックス効果
  const backMountainOffset = progress * -15;
  const frontMountainOffset = progress * -25;

  return (
    <div className="journey-bar">
      {/* 奥の山 */}
      <div
        className="mountain-back"
        style={{ transform: `translateX(${backMountainOffset}%)` }}
      >
        <svg viewBox="0 0 1200 70" preserveAspectRatio="none" fill="#c8bfb0" opacity="0.7">
          <path d="M0,70 L0,50 Q50,25 100,40 Q180,55 250,30 Q320,10 400,35 Q480,50 550,25 Q620,5 700,30 Q780,50 850,20 Q930,0 1000,35 Q1080,50 1150,30 L1200,40 L1200,70 Z" />
        </svg>
      </div>

      {/* 手前の山 */}
      <div
        className="mountain-front"
        style={{ transform: `translateX(${frontMountainOffset}%)` }}
      >
        <svg viewBox="0 0 1000 55" preserveAspectRatio="none" fill="#b5a899" opacity="0.8">
          <path d="M0,55 L0,40 Q50,20 100,35 Q160,45 220,25 Q290,8 360,30 Q430,45 500,20 Q570,5 650,32 Q730,48 800,22 Q880,5 950,35 L1000,30 L1000,55 Z" />
        </svg>
      </div>

      {/* 道 */}
      <div className="path-line" />

      {/* 地面 */}
      <div className="ground" />

      {/* 女性 */}
      <div
        className="character woman"
        style={{ left: `${womanLeft}%` }}
      >
        <svg viewBox="55 60 500 790" fill="#000000">
          <path d="M 496.191406 790.710938 C 494.816406 788.816406 493.492188 787.003906 491.847656 785.519531 C 490.402344 784.1875 487.929688 783.121094 486.027344 783.3125 C 479.746094 783.960938 473.507812 785.40625 467.191406 786.125 C 464.378906 786.46875 460.792969 786.855469 458.664062 785.476562 C 446.601562 777.746094 434.429688 770.101562 423.128906 761.300781 C 409.011719 750.300781 399.996094 734.992188 393.523438 718.707031 C 384.8125 696.738281 377.3125 674.246094 369.480469 651.933594 C 367.238281 645.5 365.222656 638.953125 363.777344 632.335938 C 363.09375 629.214844 363.925781 625.707031 364.152344 622.359375 C 364.382812 619.613281 364.871094 616.835938 364.949219 614.058594 C 365.03125 611.242188 364.1875 608.304688 364.757812 605.683594 C 366.394531 598.191406 364.257812 591.292969 362.320312 584.332031 C 358.78125 571.507812 355.207031 558.707031 351.703125 545.882812 C 347.96875 532.296875 344.316406 518.742188 340.671875 505.191406 C 340.332031 503.894531 340.101562 502.605469 339.875 501.386719 C 342.574219 499.675781 345.007812 498.117188 347.714844 496.398438 C 347.101562 495.066406 346.804688 493.925781 346.191406 492.972656 C 341.625 485.738281 336.984375 478.542969 332.382812 471.34375 C 332.078125 470.855469 331.699219 470.355469 331.472656 469.820312 C 329.832031 465.972656 328.273438 462.054688 326.566406 458.203125 C 325.3125 455.390625 323.980469 452.761719 324.777344 449.367188 C 325.039062 448.148438 323.675781 445.984375 322.457031 445.109375 C 320.746094 443.890625 320.328125 442.707031 320.40625 440.734375 C 320.554688 434.265625 320.441406 427.785156 320.441406 420.441406 C 322.195312 421.507812 323.21875 421.964844 324.015625 422.648438 C 330.027344 427.75 335.964844 432.886719 341.933594 437.953125 C 345.621094 441.074219 348.023438 444.730469 349.3125 449.640625 C 351.132812 456.496094 355.96875 461.746094 361.21875 466.460938 C 366.964844 471.644531 368.140625 476.472656 365.476562 483.785156 C 365.167969 484.582031 364.941406 485.457031 364.828125 486.335938 C 364.6875 487.4375 365.574219 488.402344 366.683594 488.351562 C 366.964844 488.332031 367.246094 488.324219 367.527344 488.308594 C 369.164062 493.601562 369.277344 493.601562 375.402344 489.375 C 375.824219 491.199219 375.972656 492.917969 376.621094 494.445312 C 376.867188 495.023438 377.21875 495.546875 377.621094 496.054688 C 378.398438 497.066406 379.941406 496.976562 380.617188 495.898438 C 380.941406 495.390625 381.246094 494.875 381.527344 494.328125 C 381.789062 493.839844 381.753906 493.191406 381.90625 492.3125 C 382.464844 492.910156 383.007812 493.480469 383.605469 494.101562 C 384.664062 495.207031 386.53125 494.609375 386.75 493.09375 C 386.855469 492.355469 386.941406 491.699219 387.003906 491.058594 C 388.074219 480.480469 384.601562 470.582031 382.4375 460.492188 C 382.289062 459.808594 381.789062 459.160156 381.335938 458.589844 C 372.125 447.210938 362.882812 435.859375 353.753906 424.445312 C 344.507812 412.910156 335.484375 401.191406 326.171875 389.6875 C 322.824219 385.578125 324.304688 381.5 324.691406 377.390625 C 325.488281 377.160156 325.792969 376.933594 326.023438 377.011719 C 332.945312 379.335938 333.59375 379.371094 333.933594 371.910156 C 334.582031 359.085938 334.695312 346.175781 334.355469 333.347656 C 333.933594 316.640625 332.761719 299.960938 332.066406 283.25 C 331.761719 276.019531 327.992188 270.6875 323.316406 265.816406 C 318.75 261.132812 314.027344 256.601562 311.671875 250.324219 C 310.988281 248.539062 311.101562 246.441406 310.875 244.460938 C 310.839844 244.425781 310.839844 244.425781 310.792969 244.382812 C 314.027344 237.230469 312.011719 231.785156 305.808594 225.84375 C 299.832031 220.054688 294.664062 213.394531 289.484375 206.84375 C 285.457031 201.742188 286.058594 195.84375 288.722656 190.4375 C 290.773438 186.246094 291.5 182.0625 291.308594 177.566406 C 291.230469 175.972656 291.386719 174.296875 291.800781 172.773438 C 293.015625 168.167969 294.726562 167.25 299.253906 168.285156 C 303.136719 169.160156 307.019531 170.222656 310.933594 170.640625 C 316.113281 171.175781 318.960938 168.433594 318.582031 163.375 C 318.320312 160.289062 319.800781 158.351562 321.019531 155.835938 C 322.578125 152.636719 326.234375 149.515625 323.875 144.949219 C 322.621094 142.476562 323.796875 140.722656 326.617188 140.1875 C 327.496094 140.039062 328.328125 139.765625 329.132812 139.390625 C 332.707031 137.796875 332.863281 135.585938 330.464844 132.578125 C 327.609375 129.074219 325.101562 125.234375 322.972656 121.234375 C 322.210938 119.867188 322.402344 117.238281 323.234375 115.828125 C 328.109375 107.410156 327.835938 98.277344 325.707031 89.632812 C 323.421875 80.457031 315.929688 75.011719 307.902344 70.296875 C 296.984375 63.898438 284.957031 63.257812 272.898438 62.265625 C 268.335938 61.890625 263.839844 61.046875 259.277344 60.628906 C 247.0625 59.601562 238.082031 65 231.921875 75.207031 C 223.816406 88.679688 219.515625 103.640625 215.828125 118.753906 C 211.636719 135.964844 207.644531 153.207031 203.953125 170.527344 C 202.167969 178.828125 201.824219 187.472656 199.808594 195.695312 C 198.476562 201.058594 198.707031 206.582031 196.996094 211.914062 C 194.867188 218.652344 193.570312 225.65625 191.863281 232.503906 C 190.304688 238.632812 188.59375 244.757812 186.992188 250.894531 C 186.765625 251.738281 186.378906 253.296875 186.570312 253.410156 C 188.859375 254.4375 187.480469 256.109375 187.367188 257.488281 C 186.992188 261.746094 186.648438 265.972656 185.957031 270.164062 C 185.695312 271.6875 184.589844 273.054688 183.828125 274.46875 C 183.03125 275.878906 182.234375 277.28125 181.925781 279.261719 C 183.144531 278.273438 184.398438 277.28125 186 276.027344 C 186.152344 283.03125 179.648438 284.742188 176.566406 289.695312 C 178.046875 289.082031 179.035156 288.625 180.527344 287.984375 C 180.148438 289.511719 179.84375 290.648438 179.273438 292.699219 C 182.707031 290.648438 185.449219 288.992188 188.683594 287.019531 C 188.410156 287.914062 188.394531 288.703125 188.367188 289.371094 C 188.316406 290.597656 186.78125 291.105469 186 290.160156 C 186.273438 291.28125 186.535156 292.386719 186.800781 293.5 C 187.308594 295.671875 189.585938 296.917969 191.679688 296.171875 L 191.714844 296.164062 C 193.351562 298.453125 195.140625 300.617188 196.507812 303.019531 C 196.996094 303.859375 196.65625 305.304688 196.394531 306.367188 C 194.71875 312.34375 192.851562 318.28125 191.214844 324.257812 C 189.578125 330.238281 188.210938 336.285156 186.421875 342.183594 C 185.46875 345.421875 183.609375 348.390625 182.734375 351.625 C 178.203125 368.035156 173.71875 384.4375 169.566406 400.925781 C 166.332031 413.636719 164.773438 426.847656 158.988281 438.882812 C 158.191406 440.59375 157.28125 442.390625 155.949219 443.679688 C 146.625 452.585938 140.351562 463.628906 134.378906 474.894531 C 132.132812 479.15625 132.933594 482.128906 136.664062 485.292969 C 135.675781 491.191406 135.710938 491.226562 141.765625 492.601562 C 141.457031 494.085938 141.046875 495.574219 140.964844 497.089844 C 140.957031 497.167969 140.957031 497.25 140.957031 497.328125 C 140.90625 499.300781 142.964844 500.625 144.742188 499.773438 L 144.777344 499.753906 C 145.425781 499.449219 145.996094 498.957031 146.644531 498.457031 C 147.703125 499.175781 148.746094 499.878906 149.761719 500.5625 C 152.488281 502.394531 156 502.71875 158.953125 501.261719 C 158.972656 501.253906 158.988281 501.246094 159.007812 501.238281 C 160.191406 500.667969 161.25 499.527344 161.933594 498.378906 C 163.527344 495.714844 164.519531 492.628906 166.347656 490.191406 C 173.691406 480.601562 175.328125 469.179688 177.574219 457.835938 C 178.449219 453.382812 179.738281 448.964844 180.882812 444.546875 C 182.367188 438.683594 183.628906 432.703125 185.449219 426.960938 C 188.875 416.109375 191.960938 405.074219 196.445312 394.640625 C 201.886719 381.929688 206.601562 369.132812 209.378906 355.578125 C 210.21875 351.582031 211.890625 347.664062 213.75 344.042969 C 217.859375 336.015625 222.355469 328.203125 226.917969 319.945312 C 229.160156 324.546875 230.878906 328.964844 229.617188 333.953125 C 228.023438 340.503906 228.820312 346.175781 233.042969 351.878906 C 236.730469 356.902344 238.335938 362.882812 232.78125 368.40625 C 232.097656 369.089844 232.550781 371.035156 232.550781 372.367188 C 232.585938 373.585938 233.234375 375.144531 232.703125 375.988281 C 228.96875 382.273438 225.085938 388.46875 221.023438 394.492188 C 218.246094 398.570312 215.617188 402.523438 214.667969 407.554688 C 214.25 409.910156 212.917969 412.3125 211.4375 414.25 C 201.964844 426.699219 198.917969 440.933594 199.984375 456.160156 C 200.363281 461.378906 199.449219 466.136719 197.628906 470.855469 C 196.148438 474.703125 194.542969 478.542969 192.871094 482.3125 C 191.152344 486.230469 191.347656 486.683594 195.113281 488.824219 C 200.894531 492.058594 206.601562 495.453125 212.769531 499.0625 C 210.867188 503.628906 208.808594 508.164062 207.066406 512.808594 C 201.089844 528.761719 195.339844 544.753906 189.296875 560.664062 C 186.972656 566.710938 184.117188 572.574219 181.453125 578.519531 C 178.675781 584.691406 176.011719 590.96875 172.972656 597.023438 C 171.300781 600.40625 169.433594 604.027344 166.769531 606.542969 C 151.359375 621.007812 140.816406 638.445312 132.792969 657.941406 C 123.847656 679.679688 114.296875 701.261719 101.023438 720.863281 C 98.164062 725.089844 94.625 729.007812 90.867188 732.476562 C 88.695312 734.460938 85.539062 735.675781 82.648438 736.554688 C 73.476562 739.296875 64.539062 747.898438 64.503906 759.207031 C 64.46875 771.425781 60.316406 782.691406 55.375 793.734375 C 53.664062 797.582031 53.777344 797.617188 58.34375 799.636719 C 60.621094 795.867188 62.910156 791.902344 65.34375 788.144531 C 68.199219 783.804688 70.976562 779.386719 74.167969 775.351562 C 77.742188 770.898438 81.359375 770.75 84.707031 775.46875 C 88.324219 780.605469 91.367188 786.242188 93.882812 792.027344 C 96.011719 796.863281 96.886719 802.230469 98.523438 807.289062 C 101.644531 817.21875 107.050781 821.488281 117.546875 822.136719 L 156.703125 822.136719 C 158.445312 822.136719 159.867188 820.753906 159.917969 819.007812 C 159.917969 818.886719 159.925781 818.761719 159.925781 818.632812 C 160.234375 810.328125 156.695312 805.957031 148.441406 805.570312 C 142.886719 805.304688 137.558594 804.542969 132.652344 801.835938 C 131.511719 801.230469 130.136719 800.160156 129.796875 798.976562 C 128.882812 795.9375 128.042969 792.691406 127.894531 789.5 C 127.515625 780.972656 126.984375 772.40625 127.472656 763.878906 C 127.972656 754.859375 129.875 745.871094 134.359375 737.914062 C 140.5625 726.992188 147.300781 716.332031 154.03125 705.742188 C 164.078125 689.832031 174.3125 674.070312 184.46875 658.273438 C 188.15625 652.566406 191.855469 646.851562 195.578125 641.144531 C 198.617188 636.542969 202.273438 632.886719 207.371094 630.140625 C 215.132812 625.917969 222.441406 620.738281 227.460938 613.082031 C 231.492188 606.878906 235.488281 600.714844 239.367188 594.429688 C 247.132812 581.832031 254.816406 569.191406 262.464844 556.515625 C 265.8125 550.992188 268.929688 545.320312 272.515625 539.046875 C 274.722656 542.394531 276.511719 545.25 278.410156 547.953125 C 293.550781 569.535156 305.503906 592.753906 315.246094 617.195312 C 316.5 620.316406 317.453125 623.707031 317.601562 627.058594 C 319.320312 658.695312 330.578125 686.9375 347.507812 713.28125 C 356.101562 726.605469 364.363281 740.078125 372.695312 753.558594 C 377.488281 761.363281 379.242188 769.402344 375.667969 778.492188 C 373.117188 785.003906 374.105469 791.550781 379.207031 797.066406 C 385.980469 804.414062 390.007812 813.320312 393.515625 822.496094 C 394.695312 822.609375 395.914062 822.761719 397.089844 822.875 C 397.203125 818.992188 396.632812 815.140625 395.679688 811.257812 C 395.074219 808.820312 394.574219 806.351562 394.3125 803.832031 C 393.664062 797.476562 395.90625 795.496094 401.652344 798.046875 C 408.121094 800.90625 414.289062 804.449219 420.414062 807.980469 C 422.925781 809.460938 425.054688 811.636719 427.183594 813.730469 C 430.953125 817.421875 435.4375 819.367188 440.503906 817.992188 C 449.335938 815.589844 458.273438 813.273438 466.640625 809.734375 C 476.417969 805.621094 485.660156 800.214844 495.140625 795.339844 L 495.167969 795.320312 C 496.824219 794.429688 497.3125 792.253906 496.191406 790.710938 Z M 308.910156 241.910156 C 308.070312 237.878906 307.542969 233.765625 306.929688 229.996094 C 309.9375 231.707031 311.234375 235.097656 311.417969 238.902344 C 311.496094 240.691406 311.039062 242.523438 310.769531 244.347656 C 310.085938 243.550781 309.09375 242.820312 308.910156 241.910156 Z M 308.910156 241.910156" />
        </svg>
      </div>

      {/* 猫 */}
      <div
        className="character cat"
        style={{ left: `${catLeft}%` }}
      >
        <svg viewBox="59 56 435 310" fill="#000000">
          <path d="M 240.570312 270.214844 C 240.570312 270.214844 218.234375 298.921875 209.296875 312.964844 C 209.296875 312.964844 199.726562 328.277344 217.59375 344.226562 L 227.808594 344.226562 C 227.808594 344.226562 239.9375 351.878906 228.449219 356.351562 L 216.960938 356.351562 C 216.960938 356.351562 202.828125 355.265625 186.105469 330.535156 C 183.179688 326.207031 181.648438 321.078125 181.660156 315.851562 C 181.667969 309.125 182.128906 299.929688 184.414062 295.742188 C 184.414062 295.742188 185.78125 294.828125 185.046875 286.804688 C 184.789062 284 182.25 281.984375 179.460938 282.375 C 170.382812 283.667969 151.386719 286.652344 144.210938 289.996094 C 144.210938 289.996094 128.890625 293.824219 123.148438 324.445312 C 123.148438 324.445312 120.601562 326.996094 129.53125 331.46875 C 129.53125 331.46875 139.101562 337.847656 128.257812 340.394531 L 119.316406 340.394531 C 119.316406 340.394531 107.1875 340.394531 107.828125 318.699219 C 107.828125 318.699219 112.9375 287.4375 118.042969 281.699219 L 143.566406 249.804688 L 143.714844 249.558594 C 146.734375 244.28125 148.734375 238.492188 149.71875 232.488281 C 151.367188 222.375 155.484375 205.363281 165.269531 194.308594 C 165.269531 194.308594 83.578125 179.636719 69.542969 140.078125 C 69.542969 140.078125 59.96875 121.574219 67.933594 94.527344 C 68.480469 92.671875 69.976562 91.25 70.875 89.53125 C 76.214844 79.296875 96.71875 45.878906 114.84375 94.773438 C 114.84375 94.773438 115.914062 110.859375 105.28125 101.257812 C 103.621094 99.757812 102.183594 98.023438 100.933594 96.167969 C 97.691406 91.3125 88.402344 79.304688 84.519531 94.125 C 84.304688 94.945312 84.039062 95.765625 83.742188 96.5625 C 80.515625 105.121094 64.800781 159.1875 179.929688 166.234375 C 179.929688 166.234375 231.621094 158.582031 300.550781 175.804688 C 300.550781 175.804688 331.824219 183.457031 368.835938 175.804688 C 368.835938 175.804688 389.898438 164.960938 393.089844 158.582031 C 393.089844 158.582031 404.6875 141.949219 417.570312 138.699219 C 421.078125 137.820312 424.292969 136.042969 426.671875 133.3125 L 437.699219 120.660156 C 438.457031 119.785156 439.886719 120.230469 440.03125 121.375 L 441.519531 133.664062 C 441.921875 136.980469 444 139.847656 447.019531 141.292969 C 452.171875 143.761719 459.671875 148.996094 460.089844 158.582031 C 460.089844 158.582031 467.113281 173.898438 473.496094 181.550781 C 473.496094 181.550781 483.066406 193.035156 470.945312 197.5 C 470.945312 197.5 464.566406 205.792969 452.4375 204.519531 C 452.4375 204.519531 429.460938 207.707031 424.996094 231.949219 C 424.996094 231.949219 417.972656 303.402344 474.136719 342.960938 C 474.136719 342.960938 493.28125 346.792969 472.222656 352.527344 L 462.648438 353.171875 C 462.648438 353.171875 389.898438 294.476562 384.148438 281.71875 C 384.148438 281.71875 370.113281 270.875 349.050781 282.359375 C 349.050781 282.359375 324.160156 315.535156 320.335938 328.296875 L 319.0625 340.421875 C 319.0625 340.421875 334.382812 352.546875 319.0625 356.367188 C 319.0625 356.367188 309.488281 362.105469 305.023438 342.96875 C 305.023438 342.96875 313.476562 299.828125 311.507812 281.546875 C 311.140625 278.117188 308.667969 275.304688 305.324219 274.457031 C 291.816406 271.019531 253.613281 262.390625 240.570312 270.214844 Z M 240.570312 270.214844" />
        </svg>
      </div>

      {/* 蝶 */}
      <div
        className="character butterfly"
        style={{
          left: `${butterflyLeft}%`,
          bottom: `${butterflyBottom}px`
        }}
      >
        <svg viewBox="0 0 240 212" fill="#00c8ff">
          <path d="M 40.871094 0.234375 C 53.628906 1.628906 70.238281 14.160156 85.308594 33.757812 C 95.171875 46.585938 104.074219 62.378906 111.527344 80.269531 C 116.738281 92.773438 122.007812 108.917969 122 112.359375 C 121.996094 112.992188 122.054688 113.367188 122.375 114.824219 L 122.753906 116.546875 L 123.5625 115.734375 C 124.769531 114.527344 125.734375 113.949219 127.164062 113.582031 L 127.472656 113.5 L 127.472656 113.035156 C 127.472656 108.078125 125.386719 96.804688 123.121094 89.519531 C 121.390625 83.960938 119.542969 79.261719 115.394531 69.882812 C 110.222656 58.1875 108.980469 54.417969 108.984375 50.433594 C 108.988281 44.492188 114.695312 44.703125 116.523438 50.714844 C 117.125 52.695312 117.222656 56.503906 116.746094 59.390625 C 116.667969 59.851562 116.558594 60.75 116.496094 61.382812 L 116.386719 62.53125 L 117.144531 64.269531 C 117.558594 65.226562 118.554688 67.488281 119.355469 69.300781 C 124.828125 81.644531 127.472656 89.226562 129.042969 97.078125 C 129.933594 101.542969 130.355469 108.328125 129.992188 112.410156 C 129.9375 113.03125 129.898438 113.546875 129.90625 113.546875 C 130.203125 113.683594 130.796875 113.851562 130.8125 113.808594 C 130.96875 113.355469 133.554688 108.394531 135.335938 105.132812 C 141.878906 93.164062 146.453125 80.964844 147.859375 71.75 C 148.667969 66.433594 148.65625 63.644531 147.796875 57.085938 C 146.933594 50.472656 147.066406 47.945312 148.351562 46.546875 C 149.332031 45.484375 150.976562 45.523438 152.109375 46.636719 C 154.136719 48.636719 154.679688 53.4375 153.488281 58.84375 C 153.027344 60.933594 152.511719 63.074219 152.355469 63.515625 C 152.226562 63.886719 152.203125 64.121094 152.203125 65.160156 C 152.203125 73.476562 149.753906 83.199219 144.835938 94.417969 C 140.394531 104.550781 136.460938 111.515625 133.28125 114.878906 L 132.777344 115.410156 L 133 115.722656 C 133.226562 116.042969 133.570312 116.691406 133.777344 117.191406 L 133.894531 117.476562 L 135.015625 115.714844 C 140.078125 107.785156 147.890625 96.984375 154.96875 88.128906 C 174.851562 63.261719 196.179688 45.167969 213.160156 38.765625 C 227.660156 33.296875 238.554688 38.257812 237.203125 49.714844 C 236.703125 53.980469 234.484375 58.21875 230.363281 62.773438 C 230.152344 63.007812 229.882812 63.339844 229.765625 63.511719 L 229.546875 63.828125 L 229.84375 64.699219 C 231.8125 70.523438 229.855469 75.957031 224.332031 79.984375 C 223.664062 80.472656 223.523438 80.609375 223.53125 80.753906 C 223.539062 80.847656 223.636719 81.386719 223.742188 81.949219 C 224.164062 84.125 224.074219 86.796875 223.519531 88.472656 C 222.457031 91.683594 220.179688 93.695312 215.726562 95.363281 C 213.175781 96.316406 213.160156 96.347656 213.527344 99.503906 C 214.171875 105.039062 213.679688 108.1875 211.699219 111.175781 C 210.054688 113.65625 206.746094 115.851562 203.839844 116.398438 L 203.566406 116.449219 L 203.566406 117.246094 C 203.566406 120.699219 201.15625 123.296875 194.578125 126.949219 C 184.941406 132.292969 172.042969 136.527344 165.34375 136.542969 C 164.472656 136.546875 164.414062 136.445312 166.503906 138.496094 C 175.738281 147.5625 179.710938 156.828125 179.542969 168.921875 C 179.4375 176.421875 177.867188 179.480469 173.441406 180.789062 C 172.042969 181.203125 172.09375 181.109375 171.71875 183.890625 C 171.210938 187.671875 169.804688 189.125 165.992188 189.8125 C 164.070312 190.160156 164.15625 190.09375 163.441406 191.902344 C 162.390625 194.554688 161.5 195.847656 160.058594 196.789062 C 159.089844 197.425781 158.441406 197.644531 156.054688 198.144531 C 154.597656 198.453125 154.308594 198.664062 152.84375 200.492188 C 150.964844 202.839844 150.253906 203.445312 148.054688 204.589844 C 146.324219 205.488281 146.039062 205.765625 145.078125 207.464844 C 143.210938 210.78125 142.574219 211.183594 139.296875 211.113281 C 135.332031 211.03125 125.761719 209.003906 122.21875 207.5 C 118.632812 205.976562 115.472656 202.898438 113.574219 199.078125 C 110.296875 192.488281 110.582031 186.539062 114.84375 172.6875 C 115.792969 169.609375 116.257812 167.855469 116.820312 165.28125 C 116.945312 164.699219 117.066406 164.15625 117.082031 164.074219 C 117.148438 163.796875 116.820312 164.472656 115.664062 167.007812 C 113 172.859375 111.039062 176.769531 108.410156 181.480469 C 102.625 191.851562 97.410156 198.109375 93.773438 199.035156 C 87.867188 200.542969 85.976562 191.492188 90.167969 181.78125 C 91.308594 179.144531 91.878906 178.132812 95.421875 172.484375 C 96.304688 171.078125 96.960938 169.960938 99.753906 165.097656 C 100.609375 163.609375 101.847656 161.457031 102.503906 160.308594 C 104.066406 157.59375 104.015625 157.699219 103.53125 158.15625 C 95.585938 165.703125 86.628906 173.46875 79.902344 178.636719 C 74.9375 182.457031 68.8125 186.210938 64.621094 188.007812 C 60.308594 189.855469 57.746094 190.417969 53.921875 190.347656 C 51.699219 190.304688 51.488281 190.28125 47.792969 189.605469 C 42.96875 188.722656 42.390625 188.738281 39.398438 189.851562 C 35.769531 191.207031 34.324219 191.101562 31.753906 189.296875 C 29.746094 187.894531 29.269531 187.734375 26.207031 187.476562 C 21.765625 187.097656 20.398438 185.980469 19.605469 182.082031 C 19.144531 179.796875 19.007812 179.605469 16.980469 178.410156 C 12.714844 175.890625 11.699219 173.578125 12.511719 168.207031 C 12.960938 165.25 12.988281 165.457031 12.074219 164.910156 C 8.5625 162.804688 7.429688 161.273438 7.4375 158.664062 C 7.445312 157.0625 7.570312 156.609375 8.902344 153.324219 C 9.5625 151.699219 9.601562 151.914062 8.539062 151.382812 C 5.144531 149.675781 4.316406 147.820312 5.210938 143.890625 C 5.359375 143.25 5.496094 142.605469 5.519531 142.464844 L 5.5625 142.210938 L 4.816406 141.734375 C 2.035156 139.957031 1.011719 137.523438 1.394531 133.582031 C 2.199219 125.324219 10.832031 114.980469 21.320312 109.703125 C 29.441406 105.617188 35.90625 104.511719 44.371094 105.753906 C 44.988281 105.84375 44.996094 105.867188 44.203125 105.148438 C 41.46875 102.671875 39.398438 101.507812 35.730469 100.382812 C 30.144531 98.664062 28.386719 97.765625 27.289062 96.066406 C 26.671875 95.113281 26.535156 93.402344 26.9375 91.640625 C 27.261719 90.214844 27.378906 90.371094 25.238281 89.410156 C 19.320312 86.742188 18.207031 84.984375 18.980469 79.511719 L 19.160156 78.246094 L 18.949219 77.835938 C 18.796875 77.542969 18.28125 76.957031 17.164062 75.808594 C 13.429688 71.972656 13.066406 70.109375 15.144531 65.449219 C 16.878906 61.554688 16.832031 60.535156 14.757812 56.722656 C 12.210938 52.042969 11.582031 50.21875 11.59375 47.542969 C 11.613281 43.402344 14.054688 40.910156 20.152344 38.808594 C 24.746094 37.226562 24.792969 37.078125 23.03125 29.992188 C 21.894531 25.414062 21.582031 23.835938 21.355469 21.464844 C 20.296875 10.390625 25.703125 2.03125 35 0.363281 C 35.921875 0.195312 39.757812 0.113281 40.871094 0.234375" />
        </svg>
      </div>

      {/* プログレスドット */}
      <div className="progress-dots">
        {Array.from({ length: totalSteps }, (_, i) => (
          <div
            key={i}
            className={`dot ${i + 1 === currentStep ? "active" : ""} ${i + 1 < currentStep ? "completed" : ""}`}
          />
        ))}
      </div>
    </div>
  );
}
